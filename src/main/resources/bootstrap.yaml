server:
  port: 8081
  servlet:
    session:
      timeout: 60m
spring:
  application:
    name: hmdp
  profiles:
    active: dev
  datasource:
    driver-class-name: org.apache.shardingsphere.driver.ShardingSphereDriver
    url: jdbc:shardingsphere:classpath:shardingsphere-config.yaml
    username: ${spring.datasource.username}
    password: ${spring.datasource.password}
  redis:
    host: ${spring.redis.host}
    port: ${spring.redis.port}
    password: ${spring.redis.password}
    lettuce:
      pool:
        max-active: 10
        max-idle: 10
        min-idle: 1
        time-between-eviction-runs: 10s
  kafka:
    bootstrap-servers: 192.168.31.25:9092  # Kafka 集群地址
    consumer:
      group-id: hmdp-group               # 消费者组 ID
      auto-offset-reset: earliest      # 无偏移量时从最早消息开始消费
      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer
      value-deserializer: org.apache.kafka.common.serialization.StringDeserializer
    producer:
      key-serializer: org.apache.kafka.common.serialization.StringSerializer
      value-serializer: org.apache.kafka.common.serialization.StringSerializer
  elasticsearch:
    rest:
      uris: localhost
  jackson:
    default-property-inclusion: non_null # JSON处理时忽略非空字段
  cloud:
    nacos:
      config:
        server-addr: localhost:8848
        namespace: d1b3bb02-077e-45f8-8165-68ce5d2dcf8d
        group: dev
        file-extension: yml            # 配置文件格式（支持 properties/yml）
        refresh-enabled: true           # 启用配置动态刷新（默认 true）
      discovery:
        server-addr: localhost:8848
        namespace: d1b3bb02-077e-45f8-8165-68ce5d2dcf8d
        group: dev
    sentinel:
      transport:
        dashboard: localhost:8858
        port: 8720
      enabled: true
      http-method-specify: true
      eager: true # 启动时加载所有规则，不然要访问过一次后才看得见
      datasource:
        flow:
          nacos:
            server-addr: localhost:8848
            username: nacos
            password: nacos
            namespace: d1b3bb02-077e-45f8-8165-68ce5d2dcf8d
            group-id: dev
            data-id: hmdp-flow-rules
            data-type: json
            rule-type: flow
mybatis-plus:
  type-aliases-package: com.hmdp.entity # 别名扫描包

xxl:
  job:
    # xxl-job admin address list, such as "http://address" or "http://address01,http://address02"
    accessToken: default_token
    admin:
      addresses: http://127.0.0.1:8088/xxl-job-admin
      # xxl-job, access token
      # xxl-job timeout by second, default 3s
    # xxl-job executor appname
    executor:
      appname: hmdp-executor
      # xxl-job executor registry-address: default use address to registry , otherwise use ip:port if address is null
      address: ""
      # xxl-job executor server-info
      ip: host.docker.internal
      port: 9999
      # xxl-job executor log-path
      logpath: 'E:/develop/dockercontainerdata/xxl-job'
      # xxl-job executor log-retention-days
      logretentiondays: 30

logging:
  level:
    com.hmdp: debug
    org.springframework.data.elasticsearch: debug
#easy-es:
#  address: 127.0.0.1:9200
